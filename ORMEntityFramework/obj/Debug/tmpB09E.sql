CREATE TABLE [dbo].[Diretor] (
    [DiretorId] [int] NOT NULL IDENTITY,
    [Nome] [varchar](100),
    CONSTRAINT [PK_dbo.Diretor] PRIMARY KEY ([DiretorId])
)
CREATE TABLE [dbo].[Filme] (
    [FilmeId] [int] NOT NULL IDENTITY,
    [Nome] [varchar](100),
    [Ano] [int],
    [DiretorId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Filme] PRIMARY KEY ([FilmeId])
)
CREATE TABLE [dbo].[Genero] (
    [GeneroId] [int] NOT NULL IDENTITY,
    [Nome] [varchar](100),
    CONSTRAINT [PK_dbo.Genero] PRIMARY KEY ([GeneroId])
)
CREATE TABLE [dbo].[GeneroFilme] (
    [Genero_GeneroId] [int] NOT NULL,
    [Filme_FilmeId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.GeneroFilme] PRIMARY KEY ([Genero_GeneroId], [Filme_FilmeId])
)
CREATE INDEX [IX_DiretorId] ON [dbo].[Filme]([DiretorId])
CREATE INDEX [IX_Genero_GeneroId] ON [dbo].[GeneroFilme]([Genero_GeneroId])
CREATE INDEX [IX_Filme_FilmeId] ON [dbo].[GeneroFilme]([Filme_FilmeId])
ALTER TABLE [dbo].[Filme] ADD CONSTRAINT [FK_dbo.Filme_dbo.Diretor_DiretorId] FOREIGN KEY ([DiretorId]) REFERENCES [dbo].[Diretor] ([DiretorId])
ALTER TABLE [dbo].[GeneroFilme] ADD CONSTRAINT [FK_dbo.GeneroFilme_dbo.Genero_Genero_GeneroId] FOREIGN KEY ([Genero_GeneroId]) REFERENCES [dbo].[Genero] ([GeneroId])
ALTER TABLE [dbo].[GeneroFilme] ADD CONSTRAINT [FK_dbo.GeneroFilme_dbo.Filme_Filme_FilmeId] FOREIGN KEY ([Filme_FilmeId]) REFERENCES [dbo].[Filme] ([FilmeId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201603200411092_AutomaticMigration', N'ORMEntityFramework.Migrations.Configuration',  0x1F8B0800000000000400D55ACD6EE33610BE17E83B083A1659CBC95EDAC0DE45EAC485D14DB288B38BDE0C46A21D62294AA5A8D446D127EBA18FD457E8E88F9248517FEB3459EC65237286F3F3CD0C67E87FFFFE67F67EEF53EB09F388046C6E9F4EA6B685991B7884EDE6762CB66F7EB4DFBFFBFEBBD995E7EFADCFC5BEB7C93EA064D1DC7E14223C779CC87DC43E8A263E717910055B317103DF415EE09C4DA73F39A7A70E061636F0B2ACD95DCC04F171FA07FCB908988B4311237A1D789846F9775859A75CAD1BE4E328442E9EDBB777D757402C0E4B0E1FFF08F89709900BBC17B67541090289D6986E6D0B3116082440DEF34F115E0B1EB0DD3A840F88DE1F420CFBB6884638D7E3BCDCDE57A5E959A292531216ACDC3812813F90E1E9DBDC468E4A3ECAD2B6B42158313358A2756AC9B97D49381601B72DF5ACF305E5C9BE463B67CE99E4C42796BEE54442049094FC3BB116311531C7738663C1113DB13EC60F94B8BFE2C37DF005B3398B29AD0A0BE2C25AED037CFAC883107371B8C3DBBA0A2BCFB69C3AB9A3D24B6A9D34D375C5C4DB33DBBA0151D003C5121915BBAC8100FF8219E64860EF2312027370ECCAC3A905342194236F021F17A7011421BA6CEB1AED3F60B6138F10775388A725D963AFF8924BF08911084620123CC6DA2137E889EC52F994E3968442C0D8D61DA6E972F448C22C2E26E9D2460260C903FF2EA0054DB1B0B9477C8721A4EE83A6D5751073579167E694306B055FCA6A1CF452D217065E2AC318D849C26F1B74CA21172C50346ADFDF3BF8FA625D42793CD80B383783BD0885BE02A50E0B9AA32F5BDB14F1590A545BD0A2AFBEFA55D197B11A177E19ED0BC75F26C498002C29BFED081C93F67B024F8D846658F601DE4514052E49C5A84A2783B1AED215F3ACD6C8CC4C28631ACC08F02221000ACE9EDB3F6846327194A1557294F9A1CEF354E30920C43CF13CA270E78C00D684091DB184B92444B4ED788568D80D2731BA3C455DB9C42166093CDBECF9D5C7CB539410ECB2D0CCA9E0A21D2E75C49A9C6B806FE9DC22DFF5C78B21150F43A051D12C5A9296054C8379AEECD55236315A6286EE25CFCD519E1054C9138E6B2CEA8E4BC2BC0C4D15EA9AF6751E459ED018E4BA7790CB12A8D117EE5018548CA5085156EFCA9EC6F2AE82B42BA748A14B7535A07765910A8F8AD9D5C254D7AE87E64AB6D6356F098E1EE151915A7AAA45F5E680E8345F8BDE45D190615076FC4ED6F217A301C7301B985DA330847A5A9915E45FAC75362858BC590FEF9CFD8C87E3460D0DB494569E04FE463BACACC2D120E992F0485C22811E5052D1179EAF6D2B83DE104DC5396A5CEBAE2AA2ACA048FE9F5199E7251343E094A604929D9F9492F41AA4635DA74C473688226EBEF52F021AFBACB3C698796597AA2A9BEC8BCE61E6288A68754CB39C8260D515BD1C658CCA515ECA32EE701F19E84C5695DD69D5B0865EF738DE3171483BCA2A83F4437FFA31587B21A414D9F74850C98BEB70AC98084D262E3BA9AA854D9DD971E0F2DC2EAA17AB263FC97A3CC01992A6D9E48D419A94DE46832B755C37D160676DCC3E4BEC25C5182AA1B1CD19987B36C60C64164FBD77E8DED6AE1FEA168935790D51AE1BB3BCF477BF576877816C8B6D81EC4FC44BEE01EB4324B03F49364CD6BFD3052580EE72C33562648B23918D4DECB3E9E999F2D4F17A9E1D9C28F268BFB787179EF993C4C49DE39DAEA964CBBCE70971F711717DE053F2D4A73B0387E82F38BE7E9DF66B9D4FA7220FA36E868DD6A2AF9887F773FBCF94EADC5AFDB6918427D62D87203EB7A6D65F1DF6183AC37DD1E1E9EBF4FF40138E8EA2EEEA69883C5341EBEB804DA31F7A0052211F004B432AD83425841E82D4888F101D6307CD72AE346612ACCC85C60CA8470D93CD2DFBB3CE8FBFBD8171E31D599B69F59814B7F9BE9A44744ECF890363A7D73FE50F42414BB732323FFEFF8868EA498607F2EBC4437FCFB43454CF8686CE56EEE858687E65D1E7B2BD5E52DADE51B26E6E6E7B0F4932C98AD7A04716F31B4B13EB21CF2F2DAF2F4DAC0D2F33CDBC4DA2D756CDA734ABF1BC8F408A336B73ECCE871FFDB9E3D8AF3CF271A6E3B1C730FC69286DFA7CAFFB914757B6CD615FAB72F194D4A572F33469B88F9E51E1012F5AFAE808125DE507B1906E23B22B59243F8F65D8ADA538B967C5B641917015898A2DCAE5FD1A0BE441FEBBE0826C912B60D9C55194FE36E533A2316CB9F21FB0B762B7B10863012A63FF81D67EEB9264ECB6F3D367BBBACCB3DB30FD49CA3154003109A8806FD9CF31A19E947BD9D035185824A5206F5C135F8AA481DD1D24A79B80F564949B4F56B07BEC87149845B76C8D9EF018D93E45F803DE21F7504C00CD4CBA1D5137FBEC92A01D477E94F328E9E14FC0B0E7EFDFFD0704DEA13D172E0000 , N'6.1.3-40302')

